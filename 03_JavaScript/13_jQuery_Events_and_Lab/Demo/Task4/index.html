<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Form Validation</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="">
        <form class="" action="submit.php" method="post">
            <div class="">
                <label for="first_name">First Name</label>
                <input id="first_name" type="text" value="" name="first_name">
            </div>

            <div class="">
                <label for="last_name">last Name</label>
                <input id="last_name" type="text" name="last_name" value="">
            </div>

            <div class="">
                <label for="email">Email</label>
                <input type="text" name="email" value="">
            </div>

            <div class="">
                <label for="password">Password</label>
                <input id="password" type="password" name="password" value="">
            </div>

            <button type="submit">Apply</button>
        </form>
    </div>

    <div id="error" style="display: none;">

    </div>

    <script type="text/javascript">
        let error = true;

        function checkMinLength(obj){
            element = $(obj);
            let elementValue = element.val();
            let errorElement = $('#error');

            if(elementValue.length < 4){
                element.css('background-color', 'red');
                errorElement.text('Minimum 4 symbols required');
                errorElement.show();
                console.log('Error');
                error = true;
                return true;
            }
            else{
                element.css('background-color', 'green');
                errorElement.text('');
                errorElement.hide();
                error = false;
                return false;
            }
        }

        $('input').on('keypress', function(e){
            checkMinLength(this);

            // let element = $(this);
            // // let elementValue = element.val();
            // // let errorElement = $('#error');
            // //
            // // if(elementValue.length < 4){
            // //     element.css('background-color', 'red');
            // //     errorElement.text('Minimum 4 symbols required');
            // //     errorElement.show();
            // //     console.log('Error');
            // //     error = true;
            // // }
            // // else{
            // //     element.css('background-color', 'green');
            // //     errorElement.text('');
            // //     errorElement.hide();
            // //     error = false;
            // // }
        })


        $('form').on('submit',function(e){
            let error = 0;
            let inputFields = $('input');
            inputFields.each(function(element){
                if(checkMinLength(this)){
                    error+=1;
                };
            });

            if(error > 0){
                e.preventDefault();
            };
        });

    </script>
</body>
</html>
